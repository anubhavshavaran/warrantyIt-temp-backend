generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  userId      String     @id @default(cuid()) @map("USER_ID")
  email       String     @unique @map("EMAIL")
  password    String?    @map("PASSWORD")
  createdAt   DateTime   @default(now()) @map("CREATED_AT")
  updatedAt   DateTime?  @updatedAt @map("UPDATED_AT")
  address     String?    @map("ADDRESS")
  phoneNumber String?    @map("PHONE_NUMBER")
  username    String     @unique @map("USERNAME")
  lastname    String     @map("LASTNAME")
  firstname   String     @map("FIRSTNAME")
  Warranty    Warranty[]
  Product     Product[]
}

model Product {
  productId       String @id @default(cuid()) @map("PRODUCT_ID")
  productName     String @map("PRODUCT_NAME")
  productType     String @map("PRODUCT_TYPE")
  productBrand    String @map("PRODUCT_BRAND")
  productImageUrl String @map("PRODUCT_IMAGE_URL")
  userId          String @map("USER_ID")

  user User @relation(fields: [userId], references: [userId], onDelete: Cascade)

  Warranty Warranty[]
}

model Vendor {
  vendorId           String     @id @default(cuid()) @map("VENDOR_ID")
  vendorName         String     @map("VENDOR_NAME")
  vendorReturnPolicy String     @map("VENDOR_RETURN_POLICY")
  vendorGstin        String?    @map("VENDOR_GSTIN")
  vendorAddress      String     @map("VENDOR_ADDRESS")
  vendorContact      String     @map("VENDOR_CONTACT")
  Warranty           Warranty[]
}

model Warranty {
  warrantyId             String  @id @default(cuid()) @map("WARRANTY_ID")
  warrantyCoverage       String  @map("WARRANTY_COVERAGE")
  warrantyType           String  @map("WARRANTY_TYPE")
  brandWarranty          String  @map("BRAND_WARRANTY")
  warrantyCardImageUrl   String  @map("WARRANTY_CARD_IMAGE_URL")
  userId                 String  @map("BUYER_ID")
  productId              String  @map("PRODUCT_ID")
  vendorId               String  @map("VENDOR_ID")
  purchaseDate           String  @map("PRODUCT_PURCHASE_DATE")
  serialNumber           String  @map("PRODUCT_SERIAL_NUMBER")
  warrantyEnd            String  @map("WARRANTY_END_DATE")
  warrantyStart          String  @map("WARRANTY_START_DATE")
  buyersEmail            String  @map("BUYERS_EMAIL")
  buyersName             String  @map("BUYERS_NAME")
  buyersPhone            String  @map("BUYERS_PHONE")
  vendorWarrantyCoverage String  @map("VENDOR_WARRANTY_COVERAGE")
  user                   User    @relation(fields: [userId], references: [userId], onDelete: Cascade)
  product                Product @relation(fields: [productId], references: [productId], onDelete: Cascade)
  vendor                 Vendor  @relation(fields: [vendorId], references: [vendorId], onDelete: Cascade)
}
