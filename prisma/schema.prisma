generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  userId    String     @id @default(cuid()) @map("USER_ID")
  firstName String     @map("FIRST_NAME")
  lastName  String     @map("LAST_NAME")
  email     String     @unique @map("EMAIL")
  password  String     @unique @map("PASSWORD")
  createdAt DateTime   @default(now()) @map("CREATED_AT")
  updatedAt DateTime?  @updatedAt @map("UPDATED_AT")
  Warranty  Warranty[]
}

model Product {
  productId       String     @id @default(cuid()) @map("PRODUCT_ID")
  productName     String     @map("PRODUCT_NAME")
  productType     String     @map("PRODUCT_TYPE")
  productBrand    String     @map("PRODUCT_BRAND")
  productImageUrl String     @map("PRODUCT_IMAGE_URL")
  Warranty        Warranty[]
}

model Vendor {
  vendorId           String @id @default(cuid()) @map("VENDOR_ID")
  vendorName         String @map("VENDOR_NAME")
  vendorDetails      String @map("VENDOR_DETAILS")
  vendorGstin        String @map("VENDOR_GSTIN")
  vendorReturnPolicy String @map("VENDOR_RETURN_POLICY")

  Warranty Warranty[]
}

model Warranty {
  warrantyId           String @id @default(cuid()) @map("WARRANTY_ID")
  warrantyType         String @map("WARRANTY_TYPE")
  warrantyDuration     String @map("WARRANTY_DURATION")
  warrantyUnit         String @map("WARRANTY_UNIT") // Require more desc
  warrantyCoverage     String @map("WARRANTY_COVERAGE")
  brandWarranty        String @map("BRAND_WARRANTY")
  warrantyCardImageUrl String @map("WARRANTY_CARD_IMAGE_URL")

  userId    String @map("BUYER_ID")
  productId String @map("PRODUCT_ID")
  vendorId  String @map("VENDOR_ID")

  user    User    @relation(fields: [userId], references: [userId], onDelete: Cascade)
  product Product @relation(fields: [productId], references: [productId], onDelete: Cascade)
  vendor  Vendor  @relation(fields: [vendorId], references: [vendorId], onDelete: Cascade)
}
