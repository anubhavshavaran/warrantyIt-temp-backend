generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  userId      String     @id @default(cuid()) @map("USER_ID")
  username    String     @unique @map("USERNAME")
  email       String     @unique @map("EMAIL")
  password    String?    @map("PASSWORD")
  phoneNumber String?    @map("PHONE_NUMBER")
  address     String?    @map("ADDRESS")
  createdAt   DateTime   @default(now()) @map("CREATED_AT")
  updatedAt   DateTime?  @updatedAt @map("UPDATED_AT")
  Warranty    Warranty[]
}

model Product {
  productId       String     @id @default(cuid()) @map("PRODUCT_ID")
  productName     String     @map("PRODUCT_NAME")
  productType     String     @map("PRODUCT_TYPE")
  productBrand    String     @map("PRODUCT_BRAND")
  productImageUrl String     @map("PRODUCT_IMAGE_URL")
  Warranty        Warranty[]
}

model Vendor {
  vendorId               String  @id @default(cuid()) @map("VENDOR_ID")
  vendorName             String  @map("VENDOR_NAME")
  vendorAddress          String  @map("VENDOR_ADDRESS")
  vendorContact          String  @map("VENDOR_CONTACT")
  vendorWarrantyCoverage String  @map("VENDOR_WARRANTY_COVERAGE")
  vendorGstin            String? @map("VENDOR_GSTIN")
  vendorReturnPolicy     String  @map("VENDOR_RETURN_POLICY")

  Warranty Warranty[]
}

model Warranty {
  warrantyId           String @id @default(cuid()) @map("WARRANTY_ID")
  warrantyStart        String @map("WARRANTY_START_DATE")
  warrantyEnd          String @map("WARRANTY_END_DATE")
  warrantyType         String @map("WARRANTY_TYPE")
  warrantyCoverage     String @map("WARRANTY_COVERAGE")
  brandWarranty        String @map("BRAND_WARRANTY")
  warrantyCardImageUrl String @map("WARRANTY_CARD_IMAGE_URL")
  purchaseDate         String @map("PRODUCT_PURCHASE_DATE")
  serialNumber         String @map("PRODUCT_SERIAL_NUMBER")
  buyersName           String @map("BUYERS_NAME")
  buyersEmail          String @map("BUYERS_EMAIL")
  buyersPhone          String @map("BUYERS_PHONE")

  userId    String @map("BUYER_ID")
  productId String @map("PRODUCT_ID")
  vendorId  String @map("VENDOR_ID")

  user    User?    @relation(fields: [userId], references: [userId], onDelete: Cascade)
  product Product? @relation(fields: [productId], references: [productId], onDelete: Cascade)
  vendor  Vendor?  @relation(fields: [vendorId], references: [vendorId], onDelete: Cascade)
}
